⚠️ UIManager not available
⚠️ Manager interfaces not available
📦 Game managers module loaded - 1 managers available
⚠️ Asset system not available, using fallback data
info: Using primary monitor: Monitor(x=0, y=0, width=1920, height=1080, width_mm=698, height_mm=393, name='HDMI-1', is_primary=True)
set window position: Vec2(192, 108)
package_folder: /home/junior/src/apex-tactics/.venv/lib/python3.12/site-packages/ursina
asset_folder: .
✅ Loaded config 'combat' from data/gameplay/combat_values.json
✅ Loaded config 'movement' from data/gameplay/movement_values.json
✅ Loaded config 'ui_layout' from data/ui/layout_config.json
✅ Loaded config 'character_interface_config' from data/ui/character_interface_config.json
✅ Loaded config 'animations' from data/visual/animation_config.json
✅ Loaded config 'ui_styles' from ui_styles.json
✅ Loaded config 'units' from data/units/unit_generation.json
✅ AssetLoader initialized with root: /home/junior/src/apex-tactics/assets
✅ Loaded 18 items from data files
✅ Loaded 0 abilities from data files (no ability files exist yet)
✅ Loaded 21 talents from data files
✅ DataManager loaded all game data
✅ Loaded talents from assets:
  Physical: 8 talents
  Magical: 7 talents
  Spiritual: 6 talents
🏷️ Created tab 'Physical' at panel-relative position (-0.30, 0.35, 0)
🏷️ Created tab 'Magical' at panel-relative position (0.00, 0.35, 0)
🏷️ Created tab 'Spiritual' at panel-relative position (0.30, 0.35, 0)
⚠️ Asset system not available, using fallback data
Added Iron Sword to inventory at (0, 0)
Added Steel Axe to inventory at (1, 0)
Added Magic Bow to inventory at (2, 0)
Added Leather Armor to inventory at (3, 0)
Added Chain Mail to inventory at (4, 0)
Added Power Ring to inventory at (5, 0)
Added Health Potion to inventory at (0, 1)
Added Mana Potion to inventory at (1, 1)
Added Iron Ore to inventory at (2, 1)
Added Magic Crystal to inventory at (3, 1)
Added Dragon Scale to inventory at (4, 1)
🔗 MCPIntegrationManager initialized
🌐 MCP client configured for http://localhost:8002
✅ MCP integration enabled and initialized
✅ MCP integration enabled
✓ AStarPathfinder initialized successfully
⚠ Skipping TileHighlighter - GridVisualizer not available
⚠ Skipping InteractionManager - missing dependencies
✅ Loaded talents from assets:
  Physical: 8 talents
  Magical: 7 talents
  Spiritual: 6 talents
🏷️ Created tab 'Physical' at panel-relative position (-0.30, 0.35, 0)
🏷️ Created tab 'Magical' at panel-relative position (0.00, 0.35, 0)
🏷️ Created tab 'Spiritual' at panel-relative position (0.30, 0.35, 0)
✓ Talent panel initialized successfully
✓ ECS systems initialized successfully
✓ Created 64 grid tiles for mouse interaction
Hero equipped Iron Sword
Sage equipped Arcane Staff
Orc equipped Steel Fists
Spirit equipped Void Blade
🗺️  Coordinate System Debug:
   Hero unit position: (1, 1)
   Sage unit position: (2, 1)
   Orc unit position: (6, 6)
   Spirit unit position: (5, 6)
   Grid dimensions: 8x8
   Expected tile ranges: x(0-7), y(0-7)
✅ AssetLoader initialized with root: /home/junior/src/apex-tactics/assets
✅ Loaded 18 items from data files
✅ Loaded 0 abilities from data files (no ability files exist yet)
✅ Loaded 21 talents from data files
✅ DataManager loaded all game data

📋 Test Instructions:
1. Click on Hero - notice spear gives Range 2, Area 2
2. Click Attack - see red tiles show 2-tile attack range
3. Click target - see yellow area effect covering 2-tile radius
4. Try same with Sage - bow has Range 3, Area 1
5. Compare the different weapon effects!
✅ Demo weapons equipped for testing
✓ Unit Hero prepared for ECS (registration skipped)
✓ Unit Sage prepared for ECS (registration skipped)
✓ Unit Orc prepared for ECS (registration skipped)
✓ Unit Spirit prepared for ECS (registration skipped)
Created unit carousel with 4 units
✅ UI styles loaded from /home/junior/src/apex-tactics/src/ui/core/../../../assets/ui_styles.json
✓ Auto-selected first unit: Hero (Speed: 13)
✓ Battle setup complete: 4 units, ECS World with 0 entities
Created unit carousel with 4 units
os: Linux
development mode: True
application successfully started
info: changed aspect ratio: 1.778 -> 1.778
Tile clicked at: (2, 1)
  → Unit found at this position: Sage
Sage selected action: Move
Movement mode activated. Use WASD to plan movement, Enter to confirm. Tactical
Tile clicked at: (3, 5)
🖱️  Mouse movement: Creating path to (3, 5)
Path calculated: 5 steps to (3, 5)
🖱️  Double-click detected at: (3, 5)
🖱️  Double-click movement: Confirming movement to (3, 5)
Path calculated: 5 steps to (3, 5)
🏃 Movement consumed 5 AP (was: 8, now: 3)
Unit moved successfully. Press END TURN when ready.
End Turn button clicked!
Turn ended. Now it's Spirit's turn (Auto-selected).
🤖 AI Agent controlling Spirit's turn...
📏 Hero attack_range: base=1, weapon=0, final=1
📏 Sage attack_range: base=1, weapon=3, final=3
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
🤖 AI Agent Spirit starting turn execution...
🔧 Available MCP tools: ['get_game_state', 'get_unit_details', 'get_available_actions', 'move_unit', 'attack_unit', 'cast_spell', 'execute_hotkey_talent', 'end_turn', 'calculate_threat_assessment', 'get_battlefield_state', 'get_tactical_analysis']
✅ Game state retrieved: 4 units on battlefield
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved: Spirit at (5, 6) with 13 AP
✅ Available actions: ['move', 'attack', 'ability', 'teleport', 'astral_projection'] (5 total)
🧠 AI Agent Spirit_139722125489696 making decision...
📊 AI Agent Spirit_139722125489696: Gathering decision context...
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Converted tactical analysis to 17 available actions
🔍 AI Agent Spirit_139722125489696: Context gathered - 17 actions available
🔍 Available action types: ['void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'astral_projection_vs_Hero', 'void_blade_attack', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage']
✅ AI Agent Spirit_139722125489696: Decision made - attack
🤖 AI Agent Spirit: Decided to attack
🎮 Executing action #1: attack for Spirit
   Target positions: [{'x': 3, 'y': 5}]
   Reasoning: Tactical: Move to (2, 5) and void_blade_attack Sage for 33 damage
   Confidence: 1.0
🚶 Action #1 - Moving to (2, 5) first
🤖 AI Movement: Spirit from (5, 6) to (2, 5)
🎯 Visual sync: Spirit moved from (5.0, 6.0) to (2, 5)
   📍 Ursina position: Vec3(2.5, 1, 5.5)
✅ Action #1 - Movement successful: {'unit_moved': 'Spirit', 'from': {'x': 5, 'y': 6}, 'to': {'x': 2, 'y': 5}, 'ap_remaining': 12, 'move_points_remaining': 4}
⚔️ Action #1 - Attempting to attack from Spirit to (3, 5)
🎯 AI Spirit now targeting Sage at (3, 5)
✅ AI target display updated: Spirit → Sage
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Action #1 - Attack successful: {'attacker': 'Spirit', 'target': 'Sage', 'damage_dealt': 39, 'target_hp_remaining': 122, 'target_alive': True, 'attacker_ap_remaining': 11}
🤖 AI Agent Spirit: Action #1 completed successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
🧠 AI Agent Spirit_139722125489696 making decision...
📊 AI Agent Spirit_139722125489696: Gathering decision context...
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Converted tactical analysis to 16 available actions
🔍 AI Agent Spirit_139722125489696: Context gathered - 16 actions available
🔍 Available action types: ['void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'astral_projection_vs_Hero', 'void_blade_attack', 'astral_projection_vs_Hero', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage']
✅ AI Agent Spirit_139722125489696: Decision made - attack
🤖 AI Agent Spirit: Decided to attack
🎮 Executing action #2: attack for Spirit
   Target positions: [{'x': 3, 'y': 5}]
   Reasoning: Tactical: Move to (3, 4) and void_blade_attack Sage for 33 damage
   Confidence: 1.0
🚶 Action #2 - Moving to (3, 4) first
🤖 AI Movement: Spirit from (2, 5) to (3, 4)
🎯 Visual sync: Spirit moved from (2.0, 5.0) to (3, 4)
   📍 Ursina position: Vec3(3.5, 1, 4.5)
✅ Action #2 - Movement successful: {'unit_moved': 'Spirit', 'from': {'x': 2, 'y': 5}, 'to': {'x': 3, 'y': 4}, 'ap_remaining': 10, 'move_points_remaining': 2}
⚔️ Action #2 - Attempting to attack from Spirit to (3, 5)
🎯 AI Spirit now targeting Sage at (3, 5)
✅ AI target display updated: Spirit → Sage
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Action #2 - Attack successful: {'attacker': 'Spirit', 'target': 'Sage', 'damage_dealt': 39, 'target_hp_remaining': 89, 'target_alive': True, 'attacker_ap_remaining': 9}
🤖 AI Agent Spirit: Action #2 completed successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
🧠 AI Agent Spirit_139722125489696 making decision...
📊 AI Agent Spirit_139722125489696: Gathering decision context...
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Converted tactical analysis to 7 available actions
🔍 AI Agent Spirit_139722125489696: Context gathered - 7 actions available
🔍 Available action types: ['void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage']
✅ AI Agent Spirit_139722125489696: Decision made - attack
🤖 AI Agent Spirit: Decided to attack
🎮 Executing action #3: attack for Spirit
   Target positions: [{'x': 3, 'y': 5}]
   Reasoning: Tactical: Move to (2, 5) and void_blade_attack Sage for 33 damage
   Confidence: 1.0
🚶 Action #3 - Moving to (2, 5) first
🤖 AI Movement: Spirit from (3, 4) to (2, 5)
🎯 Visual sync: Spirit moved from (3.0, 4.0) to (2, 5)
   📍 Ursina position: Vec3(2.5, 1, 5.5)
✅ Action #3 - Movement successful: {'unit_moved': 'Spirit', 'from': {'x': 3, 'y': 4}, 'to': {'x': 2, 'y': 5}, 'ap_remaining': 8, 'move_points_remaining': 0}
⚔️ Action #3 - Attempting to attack from Spirit to (3, 5)
🎯 AI Spirit now targeting Sage at (3, 5)
✅ AI target display updated: Spirit → Sage
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Action #3 - Attack successful: {'attacker': 'Spirit', 'target': 'Sage', 'damage_dealt': 39, 'target_hp_remaining': 56, 'target_alive': True, 'attacker_ap_remaining': 7}
🤖 AI Agent Spirit: Action #3 completed successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
🤖 AI Agent Spirit: Ending turn (insufficient AP or tactical decision)
Turn ended. Now it's Orc's turn (Auto-selected).
🤖 AI Agent controlling Orc's turn...
📏 Hero attack_range: base=1, weapon=0, final=1
📏 Sage attack_range: base=1, weapon=3, final=3
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
🤖 AI Agent Orc starting turn execution...
🔧 Available MCP tools: ['get_game_state', 'get_unit_details', 'get_available_actions', 'move_unit', 'attack_unit', 'cast_spell', 'execute_hotkey_talent', 'end_turn', 'calculate_threat_assessment', 'get_battlefield_state', 'get_tactical_analysis']
✅ Game state retrieved: 4 units on battlefield
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved: Orc at (6, 6) with 10 AP
✅ Available actions: ['move', 'attack', 'ability', 'power_attack', 'berserker_rage', 'whirlwind'] (6 total)
🧠 AI Agent Orc_139722125479616 making decision...
📊 AI Agent Orc_139722125479616: Gathering decision context...
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
✅ Converted tactical analysis to 11 available actions
🔍 AI Agent Orc_139722125479616: Context gathered - 11 actions available
🔍 Available action types: ['power_attack_vs_Sage', 'power_attack_vs_Sage', 'power_attack_vs_Sage', 'whirlwind_vs_Sage', 'whirlwind_vs_Sage', 'whirlwind_vs_Sage', 'whirlwind_vs_Sage', 'whirlwind_vs_Sage', 'whirlwind_vs_Sage', 'whirlwind_vs_Sage', 'whirlwind_vs_Sage']
✅ AI Agent Orc_139722125479616: Decision made - power_attack
🤖 AI Agent Orc: Decided to power_attack
🎮 Executing action #1: power_attack for Orc
   Target positions: [{'x': 3, 'y': 5}]
   Reasoning: Tactical: Move to (3, 4) and power_attack_vs_Sage Sage for 42 damage
   Confidence: 1.0
🚶 Action #1 - Moving to (3, 4) first
🤖 AI Movement: Orc from (6, 6) to (3, 4)
🎯 Visual sync: Orc moved from (6.0, 6.0) to (3, 4)
   📍 Ursina position: Vec3(3.5, 1, 4.5)
✅ Action #1 - Movement successful: {'unit_moved': 'Orc', 'from': {'x': 6, 'y': 6}, 'to': {'x': 3, 'y': 4}, 'ap_remaining': 9, 'move_points_remaining': 2}
🔥 Action #1 - Attempting to use talent 'power_attack' from Orc
   Action #1 - Targeting (3, 5)
🎯 AI Orc now targeting Sage at (3, 5)
✅ AI target display updated: Orc → Sage
✅ Action #1 - Talent 'power_attack' executed successfully: {'caster': 'Orc', 'talent_name': 'Power Attack', 'target': 'Sage', 'damage': 16, 'target_hp_remaining': 55, 'caster_ap_remaining': 8}
🤖 AI Agent Orc: Action #1 completed successfully
📏 Orc attack_range: base=1, weapon=1, final=1
🧠 AI Agent Orc_139722125479616 making decision...
📊 AI Agent Orc_139722125479616: Gathering decision context...
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
✅ Converted tactical analysis to 6 available actions
🔍 AI Agent Orc_139722125479616: Context gathered - 6 actions available
🔍 Available action types: ['power_attack_vs_Sage', 'power_attack_vs_Sage', 'power_attack_vs_Sage', 'whirlwind_vs_Sage', 'whirlwind_vs_Sage', 'whirlwind_vs_Sage']
✅ AI Agent Orc_139722125479616: Decision made - power_attack
🤖 AI Agent Orc: Decided to power_attack
🎮 Executing action #2: power_attack for Orc
   Target positions: [{'x': 3, 'y': 5}]
   Reasoning: Tactical: Move to (3, 6) and power_attack_vs_Sage Sage for 42 damage
   Confidence: 1.0
🚶 Action #2 - Moving to (3, 6) first
🤖 AI Movement: Orc from (3, 4) to (3, 6)
🎯 Visual sync: Orc moved from (3.0, 4.0) to (3, 6)
   📍 Ursina position: Vec3(3.5, 1, 6.5)
✅ Action #2 - Movement successful: {'unit_moved': 'Orc', 'from': {'x': 3, 'y': 4}, 'to': {'x': 3, 'y': 6}, 'ap_remaining': 7, 'move_points_remaining': 0}
🔥 Action #2 - Attempting to use talent 'power_attack' from Orc
   Action #2 - Targeting (3, 5)
🎯 AI Orc now targeting Sage at (3, 5)
✅ AI target display updated: Orc → Sage
✅ Action #2 - Talent 'power_attack' executed successfully: {'caster': 'Orc', 'talent_name': 'Power Attack', 'target': 'Sage', 'damage': 16, 'target_hp_remaining': 54, 'caster_ap_remaining': 6}
🤖 AI Agent Orc: Action #2 completed successfully
📏 Orc attack_range: base=1, weapon=1, final=1
🧠 AI Agent Orc_139722125479616 making decision...
📊 AI Agent Orc_139722125479616: Gathering decision context...
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
✅ Converted tactical analysis to 1 available actions
🔍 AI Agent Orc_139722125479616: Context gathered - 1 actions available
🔍 Available action types: ['power_attack_vs_Sage']
✅ AI Agent Orc_139722125479616: Decision made - power_attack
🤖 AI Agent Orc: Decided to power_attack
🎮 Executing action #3: power_attack for Orc
   Target positions: [{'x': 3, 'y': 5}]
   Reasoning: Tactical: Move to (3, 6) and power_attack_vs_Sage Sage for 42 damage
   Confidence: 1.0
🔥 Action #3 - Attempting to use talent 'power_attack' from Orc
   Action #3 - Targeting (3, 5)
🎯 AI Orc now targeting Sage at (3, 5)
✅ AI target display updated: Orc → Sage
✅ Action #3 - Talent 'power_attack' executed successfully: {'caster': 'Orc', 'talent_name': 'Power Attack', 'target': 'Sage', 'damage': 16, 'target_hp_remaining': 53, 'caster_ap_remaining': 5}
🤖 AI Agent Orc: Action #3 completed successfully
📏 Orc attack_range: base=1, weapon=1, final=1
🤖 AI Agent Orc: Ending turn (insufficient AP or tactical decision)
Turn ended. Now it's Sage's turn (Auto-selected).
🤖 AI Agent Orc: Turn ended successfully via MCP
🤖 AI Agent Spirit: Turn ended successfully via MCP
End Turn button clicked!
Turn ended. Now it's Hero's turn (Auto-selected).
End Turn button clicked!
🎯 Restoring target for Spirit: Sage
🎯 Highlighted target: Sage at (3, 5)
✅ Target restored with targeting system: Spirit → Sage
Turn ended. Now it's Spirit's turn (Auto-selected).
🤖 AI Agent controlling Spirit's turn...
🎯 Restoring AI target for Spirit: Sage
✅ AI target display updated: Spirit → Sage
📏 Hero attack_range: base=1, weapon=0, final=1
📏 Sage attack_range: base=1, weapon=3, final=3
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
🤖 AI Agent Spirit starting turn execution...
🔧 Available MCP tools: ['get_game_state', 'get_unit_details', 'get_available_actions', 'move_unit', 'attack_unit', 'cast_spell', 'execute_hotkey_talent', 'end_turn', 'calculate_threat_assessment', 'get_battlefield_state', 'get_tactical_analysis']
✅ Game state retrieved: 4 units on battlefield
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved: Spirit at (2, 5) with 13 AP
✅ Available actions: ['move', 'attack', 'ability', 'teleport', 'astral_projection'] (5 total)
🧠 AI Agent Spirit_139722125489696 making decision...
📊 AI Agent Spirit_139722125489696: Gathering decision context...
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Converted tactical analysis to 21 available actions
🔍 AI Agent Spirit_139722125489696: Context gathered - 21 actions available
🔍 Available action types: ['void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'astral_projection_vs_Hero', 'void_blade_attack', 'astral_projection_vs_Hero', 'void_blade_attack', 'void_blade_attack', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'void_blade_attack', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage']
✅ AI Agent Spirit_139722125489696: Decision made - attack
🤖 AI Agent Spirit: Decided to attack
🎮 Executing action #1: attack for Spirit
   Target positions: [{'x': 3, 'y': 5}]
   Reasoning: Tactical: Move to (3, 4) and void_blade_attack Sage for 33 damage
   Confidence: 1.0
🚶 Action #1 - Moving to (3, 4) first
🤖 AI Movement: Spirit from (2, 5) to (3, 4)
🎯 Visual sync: Spirit moved from (2.0, 5.0) to (3, 4)
   📍 Ursina position: Vec3(3.5, 1, 4.5)
✅ Action #1 - Movement successful: {'unit_moved': 'Spirit', 'from': {'x': 2, 'y': 5}, 'to': {'x': 3, 'y': 4}, 'ap_remaining': 12, 'move_points_remaining': 6}
⚔️ Action #1 - Attempting to attack from Spirit to (3, 5)
🎯 AI Spirit now targeting Sage at (3, 5)
✅ AI target display updated: Spirit → Sage
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Action #1 - Attack successful: {'attacker': 'Spirit', 'target': 'Sage', 'damage_dealt': 39, 'target_hp_remaining': 20, 'target_alive': True, 'attacker_ap_remaining': 11}
🤖 AI Agent Spirit: Action #1 completed successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
🧠 AI Agent Spirit_139722125489696 making decision...
📊 AI Agent Spirit_139722125489696: Gathering decision context...
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Converted tactical analysis to 20 available actions
🔍 AI Agent Spirit_139722125489696: Context gathered - 20 actions available
🔍 Available action types: ['void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'void_blade_attack', 'astral_projection_vs_Hero', 'void_blade_attack', 'void_blade_attack', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'void_blade_attack', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage', 'astral_projection_vs_Sage']
✅ AI Agent Spirit_139722125489696: Decision made - attack
🤖 AI Agent Spirit: Decided to attack
🎮 Executing action #2: attack for Spirit
   Target positions: [{'x': 3, 'y': 5}]
   Reasoning: Tactical: Move to (2, 5) and void_blade_attack Sage for 33 damage
   Confidence: 1.0
🚶 Action #2 - Moving to (2, 5) first
🤖 AI Movement: Spirit from (3, 4) to (2, 5)
🎯 Visual sync: Spirit moved from (3.0, 4.0) to (2, 5)
   📍 Ursina position: Vec3(2.5, 1, 5.5)
✅ Action #2 - Movement successful: {'unit_moved': 'Spirit', 'from': {'x': 3, 'y': 4}, 'to': {'x': 2, 'y': 5}, 'ap_remaining': 10, 'move_points_remaining': 4}
⚔️ Action #2 - Attempting to attack from Spirit to (3, 5)
🎯 AI Spirit now targeting Sage at (3, 5)
✅ AI target display updated: Spirit → Sage
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Action #2 - Attack successful: {'attacker': 'Spirit', 'target': 'Sage', 'damage_dealt': 39, 'target_hp_remaining': 0, 'target_alive': False, 'attacker_ap_remaining': 9}
🤖 AI Agent Spirit: Action #2 completed successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
🧠 AI Agent Spirit_139722125489696 making decision...
📊 AI Agent Spirit_139722125489696: Gathering decision context...
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Converted tactical analysis to 4 available actions
🔍 AI Agent Spirit_139722125489696: Context gathered - 4 actions available
🔍 Available action types: ['void_blade_attack', 'astral_projection_vs_Hero', 'void_blade_attack', 'astral_projection_vs_Hero']
✅ AI Agent Spirit_139722125489696: Decision made - attack
🤖 AI Agent Spirit: Decided to attack
🎮 Executing action #3: attack for Spirit
   Target positions: [{'x': 1, 'y': 1}]
   Reasoning: Tactical: Move to (1, 2) and void_blade_attack Hero for 24 damage
   Confidence: 1.0
🚶 Action #3 - Moving to (1, 2) first
🤖 AI Movement: Spirit from (2, 5) to (1, 2)
🎯 Visual sync: Spirit moved from (2.0, 5.0) to (1, 2)
   📍 Ursina position: Vec3(1.5, 1, 2.5)
✅ Action #3 - Movement successful: {'unit_moved': 'Spirit', 'from': {'x': 2, 'y': 5}, 'to': {'x': 1, 'y': 2}, 'ap_remaining': 8, 'move_points_remaining': 0}
⚔️ Action #3 - Attempting to attack from Spirit to (1, 1)
🎯 AI Spirit now targeting Hero at (1, 1)
✅ AI target display updated: Spirit → Hero
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Action #3 - Attack successful: {'attacker': 'Spirit', 'target': 'Hero', 'damage_dealt': 39, 'target_hp_remaining': 256, 'target_alive': True, 'attacker_ap_remaining': 7}
🤖 AI Agent Spirit: Action #3 completed successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
🤖 AI Agent Spirit: Ending turn (insufficient AP or tactical decision)
🎯 Restoring target for Orc: Sage
🎯 Highlighted target: Sage at (3, 5)
✅ Target restored with targeting system: Orc → Sage
Turn ended. Now it's Orc's turn (Auto-selected).
🤖 AI Agent controlling Orc's turn...
🎯 Restoring AI target for Orc: Sage
✅ AI target display updated: Orc → Sage
📏 Hero attack_range: base=1, weapon=0, final=1
📏 Sage attack_range: base=1, weapon=3, final=3
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
🤖 AI Agent Orc starting turn execution...
🔧 Available MCP tools: ['get_game_state', 'get_unit_details', 'get_available_actions', 'move_unit', 'attack_unit', 'cast_spell', 'execute_hotkey_talent', 'end_turn', 'calculate_threat_assessment', 'get_battlefield_state', 'get_tactical_analysis']
✅ Game state retrieved: 4 units on battlefield
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved: Orc at (3, 6) with 10 AP
✅ Available actions: ['move', 'attack', 'ability', 'power_attack', 'berserker_rage', 'whirlwind'] (6 total)
🧠 AI Agent Orc_139722125479616 making decision...
📊 AI Agent Orc_139722125479616: Gathering decision context...
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
✅ Converted tactical analysis to 6 available actions
🔍 AI Agent Orc_139722125479616: Context gathered - 6 actions available
🔍 Available action types: ['power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero']
✅ AI Agent Orc_139722125479616: Decision made - power_attack
🤖 AI Agent Orc: Decided to power_attack
🎮 Executing action #1: power_attack for Orc
   Target positions: [{'x': 1, 'y': 1}]
   Reasoning: Tactical: Move to (2, 1) and power_attack_vs_Hero Hero for 28 damage
   Confidence: 1.0
🚶 Action #1 - Moving to (2, 1) first
🤖 AI Movement: Orc from (3, 6) to (2, 1)
🎯 Visual sync: Orc moved from (3.0, 6.0) to (2, 1)
   📍 Ursina position: Vec3(2.5, 1, 1.5)
✅ Action #1 - Movement successful: {'unit_moved': 'Orc', 'from': {'x': 3, 'y': 6}, 'to': {'x': 2, 'y': 1}, 'ap_remaining': 9, 'move_points_remaining': 1}
🔥 Action #1 - Attempting to use talent 'power_attack' from Orc
   Action #1 - Targeting (1, 1)
🎯 AI Orc now targeting Hero at (1, 1)
✅ AI target display updated: Orc → Hero
✅ Action #1 - Talent 'power_attack' executed successfully: {'caster': 'Orc', 'talent_name': 'Power Attack', 'target': 'Hero', 'damage': 16, 'target_hp_remaining': 251, 'caster_ap_remaining': 8}
🤖 AI Agent Orc: Action #1 completed successfully
📏 Orc attack_range: base=1, weapon=1, final=1
🧠 AI Agent Orc_139722125479616 making decision...
📊 AI Agent Orc_139722125479616: Gathering decision context...
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
✅ Converted tactical analysis to 4 available actions
🔍 AI Agent Orc_139722125479616: Context gathered - 4 actions available
🔍 Available action types: ['power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero']
✅ AI Agent Orc_139722125479616: Decision made - power_attack
🤖 AI Agent Orc: Decided to power_attack
🎮 Executing action #2: power_attack for Orc
   Target positions: [{'x': 1, 'y': 1}]
   Reasoning: Tactical: Move to (2, 1) and power_attack_vs_Hero Hero for 28 damage
   Confidence: 1.0
🔥 Action #2 - Attempting to use talent 'power_attack' from Orc
   Action #2 - Targeting (1, 1)
🎯 AI Orc now targeting Hero at (1, 1)
✅ AI target display updated: Orc → Hero
✅ Action #2 - Talent 'power_attack' executed successfully: {'caster': 'Orc', 'talent_name': 'Power Attack', 'target': 'Hero', 'damage': 16, 'target_hp_remaining': 246, 'caster_ap_remaining': 7}
🤖 AI Agent Orc: Action #2 completed successfully
📏 Orc attack_range: base=1, weapon=1, final=1
🧠 AI Agent Orc_139722125479616 making decision...
📊 AI Agent Orc_139722125479616: Gathering decision context...
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
✅ Converted tactical analysis to 4 available actions
🔍 AI Agent Orc_139722125479616: Context gathered - 4 actions available
🔍 Available action types: ['power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero']
✅ AI Agent Orc_139722125479616: Decision made - power_attack
🤖 AI Agent Orc: Decided to power_attack
🎮 Executing action #3: power_attack for Orc
   Target positions: [{'x': 1, 'y': 1}]
   Reasoning: Tactical: Move to (2, 1) and power_attack_vs_Hero Hero for 28 damage
   Confidence: 1.0
🔥 Action #3 - Attempting to use talent 'power_attack' from Orc
   Action #3 - Targeting (1, 1)
🎯 AI Orc now targeting Hero at (1, 1)
✅ AI target display updated: Orc → Hero
✅ Action #3 - Talent 'power_attack' executed successfully: {'caster': 'Orc', 'talent_name': 'Power Attack', 'target': 'Hero', 'damage': 16, 'target_hp_remaining': 241, 'caster_ap_remaining': 6}
🤖 AI Agent Orc: Action #3 completed successfully
📏 Orc attack_range: base=1, weapon=1, final=1
🤖 AI Agent Orc: Ending turn (insufficient AP or tactical decision)
Turn ended. Now it's Sage's turn (Auto-selected).
🤖 AI Agent Orc: Turn ended successfully via MCP
🤖 AI Agent Spirit: Turn ended successfully via MCP
End Turn button clicked!
Turn ended. Now it's Hero's turn (Auto-selected).
End Turn button clicked!
🎯 Restoring target for Spirit: Hero
🎯 Highlighted target: Hero at (1, 1)
✅ Target restored with targeting system: Spirit → Hero
Turn ended. Now it's Spirit's turn (Auto-selected).
🤖 AI Agent controlling Spirit's turn...
🎯 Restoring AI target for Spirit: Hero
✅ AI target display updated: Spirit → Hero
📏 Hero attack_range: base=1, weapon=0, final=1
📏 Sage attack_range: base=1, weapon=3, final=3
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
🤖 AI Agent Spirit starting turn execution...
🔧 Available MCP tools: ['get_game_state', 'get_unit_details', 'get_available_actions', 'move_unit', 'attack_unit', 'cast_spell', 'execute_hotkey_talent', 'end_turn', 'calculate_threat_assessment', 'get_battlefield_state', 'get_tactical_analysis']
✅ Game state retrieved: 4 units on battlefield
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved: Spirit at (1, 2) with 13 AP
✅ Available actions: ['move', 'attack', 'ability', 'teleport', 'astral_projection'] (5 total)
🧠 AI Agent Spirit_139722125489696 making decision...
📊 AI Agent Spirit_139722125489696: Gathering decision context...
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Converted tactical analysis to 9 available actions
🔍 AI Agent Spirit_139722125489696: Context gathered - 9 actions available
🔍 Available action types: ['astral_projection_vs_Hero', 'void_blade_attack', 'astral_projection_vs_Hero', 'void_blade_attack', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'void_blade_attack']
✅ AI Agent Spirit_139722125489696: Decision made - ability
🤖 AI Agent Spirit: Decided to ability
🎮 Executing action #1: ability for Spirit
   Target positions: [{'x': 1, 'y': 1}]
   Reasoning: Tactical: Move to (0, 0) and astral_projection_vs_Hero Hero for 24 damage
   Confidence: 1.0
🚶 Action #1 - Moving to (0, 0) first
🤖 AI Movement: Spirit from (1, 2) to (0, 0)
🎯 Visual sync: Spirit moved from (1.0, 2.0) to (0, 0)
   📍 Ursina position: Vec3(0.5, 1, 0.5)
✅ Action #1 - Movement successful: {'unit_moved': 'Spirit', 'from': {'x': 1, 'y': 2}, 'to': {'x': 0, 'y': 0}, 'ap_remaining': 12, 'move_points_remaining': 5}
✨ Action #1 - Attempting to cast spell from Spirit to (1, 1)
🎯 AI Spirit now targeting Hero at (1, 1)
✅ AI target display updated: Spirit → Hero
✅ Action #1 - Ability successful: {'caster': 'Spirit', 'target': 'Hero', 'spell_damage': 35, 'target_hp_remaining': 217, 'target_alive': True, 'caster_ap_remaining': 10}
🤖 AI Agent Spirit: Action #1 completed successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
🧠 AI Agent Spirit_139722125489696 making decision...
📊 AI Agent Spirit_139722125489696: Gathering decision context...
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Converted tactical analysis to 9 available actions
🔍 AI Agent Spirit_139722125489696: Context gathered - 9 actions available
🔍 Available action types: ['void_blade_attack', 'astral_projection_vs_Hero', 'void_blade_attack', 'void_blade_attack', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero']
✅ AI Agent Spirit_139722125489696: Decision made - attack
🤖 AI Agent Spirit: Decided to attack
🎮 Executing action #2: attack for Spirit
   Target positions: [{'x': 1, 'y': 1}]
   Reasoning: Tactical: Move to (0, 1) and void_blade_attack Hero for 24 damage
   Confidence: 1.0
🚶 Action #2 - Moving to (0, 1) first
🤖 AI Movement: Spirit from (0, 0) to (0, 1)
🎯 Visual sync: Spirit moved from (0.0, 0.0) to (0, 1)
   📍 Ursina position: Vec3(0.5, 1, 1.5)
✅ Action #2 - Movement successful: {'unit_moved': 'Spirit', 'from': {'x': 0, 'y': 0}, 'to': {'x': 0, 'y': 1}, 'ap_remaining': 9, 'move_points_remaining': 4}
⚔️ Action #2 - Attempting to attack from Spirit to (1, 1)
🎯 AI Spirit now targeting Hero at (1, 1)
✅ AI target display updated: Spirit → Hero
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Action #2 - Attack successful: {'attacker': 'Spirit', 'target': 'Hero', 'damage_dealt': 39, 'target_hp_remaining': 193, 'target_alive': True, 'attacker_ap_remaining': 8}
🤖 AI Agent Spirit: Action #2 completed successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
🧠 AI Agent Spirit_139722125489696 making decision...
📊 AI Agent Spirit_139722125489696: Gathering decision context...
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
✅ Converted tactical analysis to 9 available actions
🔍 AI Agent Spirit_139722125489696: Context gathered - 9 actions available
🔍 Available action types: ['astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'void_blade_attack', 'void_blade_attack', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'astral_projection_vs_Hero', 'void_blade_attack']
✅ AI Agent Spirit_139722125489696: Decision made - ability
🤖 AI Agent Spirit: Decided to ability
🎮 Executing action #3: ability for Spirit
   Target positions: [{'x': 1, 'y': 1}]
   Reasoning: Tactical: Move to (0, 0) and astral_projection_vs_Hero Hero for 24 damage
   Confidence: 1.0
🚶 Action #3 - Moving to (0, 0) first
🤖 AI Movement: Spirit from (0, 1) to (0, 0)
🎯 Visual sync: Spirit moved from (0.0, 1.0) to (0, 0)
   📍 Ursina position: Vec3(0.5, 1, 0.5)
✅ Action #3 - Movement successful: {'unit_moved': 'Spirit', 'from': {'x': 0, 'y': 1}, 'to': {'x': 0, 'y': 0}, 'ap_remaining': 7, 'move_points_remaining': 3}
✨ Action #3 - Attempting to cast spell from Spirit to (1, 1)
🎯 AI Spirit now targeting Hero at (1, 1)
✅ AI target display updated: Spirit → Hero
✅ Action #3 - Ability successful: {'caster': 'Spirit', 'target': 'Hero', 'spell_damage': 35, 'target_hp_remaining': 169, 'target_alive': True, 'caster_ap_remaining': 5}
🤖 AI Agent Spirit: Action #3 completed successfully
📏 Spirit attack_range: base=1, weapon=1, final=1
🤖 AI Agent Spirit: Ending turn (insufficient AP or tactical decision)
🎯 Restoring target for Orc: Hero
🎯 Highlighted target: Hero at (1, 1)
✅ Target restored with targeting system: Orc → Hero
Turn ended. Now it's Orc's turn (Auto-selected).
🤖 AI Agent controlling Orc's turn...
🎯 Restoring AI target for Orc: Hero
✅ AI target display updated: Orc → Hero
📏 Hero attack_range: base=1, weapon=0, final=1
📏 Sage attack_range: base=1, weapon=3, final=3
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Spirit attack_range: base=1, weapon=1, final=1
🤖 AI Agent Orc starting turn execution...
🔧 Available MCP tools: ['get_game_state', 'get_unit_details', 'get_available_actions', 'move_unit', 'attack_unit', 'cast_spell', 'execute_hotkey_talent', 'end_turn', 'calculate_threat_assessment', 'get_battlefield_state', 'get_tactical_analysis']
✅ Game state retrieved: 4 units on battlefield
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved: Orc at (2, 1) with 10 AP
✅ Available actions: ['move', 'attack', 'ability', 'power_attack', 'berserker_rage', 'whirlwind'] (6 total)
🧠 AI Agent Orc_139722125479616 making decision...
📊 AI Agent Orc_139722125479616: Gathering decision context...
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
✅ Converted tactical analysis to 9 available actions
🔍 AI Agent Orc_139722125479616: Context gathered - 9 actions available
🔍 Available action types: ['power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero']
✅ AI Agent Orc_139722125479616: Decision made - power_attack
🤖 AI Agent Orc: Decided to power_attack
🎮 Executing action #1: power_attack for Orc
   Target positions: [{'x': 1, 'y': 1}]
   Reasoning: Tactical: Move to (0, 1) and power_attack_vs_Hero Hero for 28 damage
   Confidence: 1.0
🚶 Action #1 - Moving to (0, 1) first
🤖 AI Movement: Orc from (2, 1) to (0, 1)
🎯 Visual sync: Orc moved from (2.0, 1.0) to (0, 1)
   📍 Ursina position: Vec3(0.5, 1, 1.5)
✅ Action #1 - Movement successful: {'unit_moved': 'Orc', 'from': {'x': 2, 'y': 1}, 'to': {'x': 0, 'y': 1}, 'ap_remaining': 9, 'move_points_remaining': 5}
🔥 Action #1 - Attempting to use talent 'power_attack' from Orc
   Action #1 - Targeting (1, 1)
🎯 AI Orc now targeting Hero at (1, 1)
✅ AI target display updated: Orc → Hero
✅ Action #1 - Talent 'power_attack' executed successfully: {'caster': 'Orc', 'talent_name': 'Power Attack', 'target': 'Hero', 'damage': 16, 'target_hp_remaining': 164, 'caster_ap_remaining': 8}
🤖 AI Agent Orc: Action #1 completed successfully
📏 Orc attack_range: base=1, weapon=1, final=1
🧠 AI Agent Orc_139722125479616 making decision...
📊 AI Agent Orc_139722125479616: Gathering decision context...
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
✅ Converted tactical analysis to 9 available actions
🔍 AI Agent Orc_139722125479616: Context gathered - 9 actions available
🔍 Available action types: ['power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero']
✅ AI Agent Orc_139722125479616: Decision made - power_attack
🤖 AI Agent Orc: Decided to power_attack
🎮 Executing action #2: power_attack for Orc
   Target positions: [{'x': 1, 'y': 1}]
   Reasoning: Tactical: Move to (1, 0) and power_attack_vs_Hero Hero for 28 damage
   Confidence: 1.0
🚶 Action #2 - Moving to (1, 0) first
🤖 AI Movement: Orc from (0, 1) to (1, 0)
🎯 Visual sync: Orc moved from (0.0, 1.0) to (1, 0)
   📍 Ursina position: Vec3(1.5, 1, 0.5)
✅ Action #2 - Movement successful: {'unit_moved': 'Orc', 'from': {'x': 0, 'y': 1}, 'to': {'x': 1, 'y': 0}, 'ap_remaining': 7, 'move_points_remaining': 3}
🔥 Action #2 - Attempting to use talent 'power_attack' from Orc
   Action #2 - Targeting (1, 1)
🎯 AI Orc now targeting Hero at (1, 1)
✅ AI target display updated: Orc → Hero
✅ Action #2 - Talent 'power_attack' executed successfully: {'caster': 'Orc', 'talent_name': 'Power Attack', 'target': 'Hero', 'damage': 16, 'target_hp_remaining': 159, 'caster_ap_remaining': 6}
🤖 AI Agent Orc: Action #2 completed successfully
📏 Orc attack_range: base=1, weapon=1, final=1
🧠 AI Agent Orc_139722125479616 making decision...
📊 AI Agent Orc_139722125479616: Gathering decision context...
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Tactical analysis retrieved successfully
📏 Orc attack_range: base=1, weapon=1, final=1
✅ Unit details retrieved successfully
✅ Converted tactical analysis to 9 available actions
🔍 AI Agent Orc_139722125479616: Context gathered - 9 actions available
🔍 Available action types: ['power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero', 'power_attack_vs_Hero']
✅ AI Agent Orc_139722125479616: Decision made - power_attack
🤖 AI Agent Orc: Decided to power_attack
🎮 Executing action #3: power_attack for Orc
   Target positions: [{'x': 1, 'y': 1}]
   Reasoning: Tactical: Move to (0, 1) and power_attack_vs_Hero Hero for 28 damage
   Confidence: 1.0
🚶 Action #3 - Moving to (0, 1) first
🤖 AI Movement: Orc from (1, 0) to (0, 1)
🎯 Visual sync: Orc moved from (1.0, 0.0) to (0, 1)
   📍 Ursina position: Vec3(0.5, 1, 1.5)
✅ Action #3 - Movement successful: {'unit_moved': 'Orc', 'from': {'x': 1, 'y': 0}, 'to': {'x': 0, 'y': 1}, 'ap_remaining': 5, 'move_points_remaining': 1}
🔥 Action #3 - Attempting to use talent 'power_attack' from Orc
   Action #3 - Targeting (1, 1)
🎯 AI Orc now targeting Hero at (1, 1)
✅ AI target display updated: Orc → Hero
✅ Action #3 - Talent 'power_attack' executed successfully: {'caster': 'Orc', 'talent_name': 'Power Attack', 'target': 'Hero', 'damage': 16, 'target_hp_remaining': 154, 'caster_ap_remaining': 4}
🤖 AI Agent Orc: Action #3 completed successfully
📏 Orc attack_range: base=1, weapon=1, final=1
🤖 AI Agent Orc: Ending turn (insufficient AP or tactical decision)
Turn ended. Now it's Sage's turn (Auto-selected).
🤖 AI Agent Orc: Turn ended successfully via MCP
🤖 AI Agent Spirit: Turn ended successfully via MCP
